<!DOCTYPE html>
<html lang="bg">
<head>
    <title>bgpiesa.com</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="main-content">
        <header class="header">
            <div class="site-title">bgpiesa.com</div>
            <nav>
                <ul class="nav-list">
                    <li><a href="index.html">–ù–∞—á–∞–ª–æ</a></li>
                    <li><a href="avtori.html">–ê–≤—Ç–æ—Ä–∏</a></li>
                    <li><a href="piesi.html">–ü—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è</a></li>
                    <li><a href="#">–ö–æ–Ω—Ç–∞–∫—Ç–∏</a></li>
                </ul>
            </nav>
        </header>

        <div class="about" id="books-page">
            <h1>–ü—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è</h1>
            <div class="search">
                <div class="search-bar">
                    <input type="text" id="searchBar" placeholder="–¢—ä—Ä—Å–∏..." />
                    <button class="search-icon" onclick="unifiedSearch()">üîç</button>
                </div>
                <div class="radio">
                    <label><input type="radio" name="searchMode" value="author" checked> –ê–≤—Ç–æ—Ä</label>
                    <label><input type="radio" name="searchMode" value="book"> –ü–∏–µ—Å–∞</label>
                    <button onclick="document.getElementById('searchBar').value=''; unifiedSearch();">–ò–∑—á–∏—Å—Ç–∏ —Ç—ä—Ä—Å–µ–Ω–µ—Ç–æ</button>
                </div>
            </div>
        </div>

        <div class="book-shelf-container">
            <button class="nav-arrow left" onclick="scrollShelf(-170)">&#10094;</button>

            <div class="book-shelf" id="bookShelf">
                <a href="./piesi/–ë–∞–ª–∫–∞–Ω—Å–∫–∏ —Å–∏–Ω–¥—Ä–æ–º - –°—Ç–∞–Ω–∏—Å–ª–∞–≤ –°—Ç—Ä–∞—Ç–∏–µ–≤.pdf">
                    <div class="book" data-author="–°—Ç–∞–Ω–∏—Å–ª–∞–≤ –°—Ç—Ä–∞—Ç–∏–µ–≤" data-book="–ë–∞–ª–∫–∞–Ω—Å–∫–∏ —Å–∏–Ω–¥—Ä–æ–º">
                        <span class="book-title">–ë–∞–ª–∫–∞–Ω—Å–∫–∏ —Å–∏–Ω–¥—Ä–æ–º</span>
                        <span class="book-author">–°—Ç–∞–Ω–∏—Å–ª–∞–≤ –°—Ç—Ä–∞—Ç–∏–µ–≤</span>
                    </div>
                </a>
                <a href="./piesi/–ê–ª–±–µ–Ω–∞ - –ô–æ—Ä–¥–∞–Ω –ô–æ–≤–∫–æ–≤.pdf">
                    <div class="book" data-author="–ô–æ—Ä–¥–∞–Ω –ô–æ–≤–∫–æ–≤" data-book="–ê–ª–±–µ–Ω–∞">
                        <span class="book-title">–ê–ª–±–µ–Ω–∞</span>
                        <span class="book-author">–ô–æ—Ä–¥–∞–Ω –ô–æ–≤–∫–æ–≤</span>
                    </div>
                </a>
                <a href="./piesi/–•—ä—à–æ–≤–µ - –ò–≤–∞–Ω –í–∞–∑–æ–≤.pdf">
                    <div class="book" data-author="–ò–≤–∞–Ω –í–∞–∑–æ–≤" data-book="–•—ä—à–æ–≤–µ">
                        <span class="book-title">–•—ä—à–æ–≤–µ</span>
                        <span class="book-author">–ò–≤–∞–Ω –í–∞–∑–æ–≤</span>
                    </div>
                </a>
                <a href="./piesi/–ë–æ—Ä—è–Ω–∞ - –ô–æ—Ä–¥–∞–Ω –ô–æ–≤–∫–æ–≤.pdf">
                    <div class="book" data-author="–ô–æ—Ä–¥–∞–Ω –ô–æ–≤–∫–æ–≤" data-book="–ë–æ—Ä—è–Ω–∞">
                        <span class="book-title">–ë–æ—Ä—è–Ω–∞</span>
                        <span class="book-author">–ô–æ—Ä–¥–∞–Ω –ô–æ–≤–∫–æ–≤</span>
                    </div>
                </a>
                <a href="./piesi/–ó–∏–¥–∞—Ä–∏ - –ü–µ—Ç–∫–æ –¢–æ–¥–æ—Ä–æ–≤.pdf">
                    <div class="book" data-author="–ü–µ—Ç–∫–æ –¢–æ–¥–æ—Ä–æ–≤" data-book="–ó–∏–¥–∞—Ä–∏">
                        <span class="book-title">–ó–∏–¥–∞—Ä–∏</span>
                        <span class="book-author">–ü–µ—Ç–∫–æ –¢–æ–¥–æ—Ä–æ–≤</span>
                    </div>
                </a>
                <a href="./piesi/–ù–µ–≤—è—Å—Ç–∞ –ë–æ—Ä—è–Ω–∞ - –ü–µ—Ç–∫–æ –¢–æ–¥–æ—Ä–æ–≤.pdf">
                    <div class="book" data-author="–ü–µ—Ç–∫–æ –¢–æ–¥–æ—Ä–æ–≤" data-book="–ù–µ–≤—è—Å—Ç–∞ –ë–æ—Ä—è–Ω–∞">
                        <span class="book-title">–ù–µ–≤—è—Å—Ç–∞ –ë–æ—Ä—è–Ω–∞</span>
                        <span class="book-author">–ü–µ—Ç–∫–æ –¢–æ–¥–æ—Ä–æ–≤</span>
                    </div>
                </a>
                <a href="./piesi/–°–ª—É–∂–±–æ–≥–æ–Ω—Ü–∏ - –ò–≤–∞–Ω –í–∞–∑–æ–≤.pdf">
                    <div class="book" data-author="–ò–≤–∞–Ω –í–∞–∑–æ–≤" data-book="–°–ª—É–∂–±–æ–≥–æ–Ω—Ü–∏">
                        <span class="book-title">–°–ª—É–∂–±–æ–≥–æ–Ω—Ü–∏</span>
                        <span class="book-author">–ò–≤–∞–Ω –í–∞–∑–æ–≤</span>
                    </div>
                </a>
                <a href="./piesi/–ú–∏–ª–∏–æ–Ω–µ—Ä—ä—Ç - –ô–æ—Ä–¥–∞–Ω –ô–æ–≤–∫–æ–≤.pdf">
                    <div class="book" data-author="–ô–æ—Ä–¥–∞–Ω –ô–æ–≤–∫–æ–≤" data-book="–ú–∏–ª–∏–æ–Ω–µ—Ä—ä—Ç">
                        <span class="book-title">–ú–∏–ª–∏–æ–Ω–µ—Ä—ä—Ç</span>
                        <span class="book-author">–ô–æ—Ä–¥–∞–Ω –ô–æ–≤–∫–æ–≤</span>
                    </div>
                </a>
                <a href="./piesi/–û–ø–∏—Ç –∑–∞ –ª–µ—Ç–µ–Ω–µ - –ô–æ—Ä–¥–∞–Ω –†–∞–¥–∏—á–∫–æ–≤.pdf">
                    <div class="book" data-author="–ô–æ—Ä–¥–∞–Ω –†–∞–¥–∏—á–∫–æ–≤" data-book="–û–ø–∏—Ç –∑–∞ –ª–µ—Ç–µ–Ω–µ">
                        <span class="book-title">–û–ø–∏—Ç –∑–∞ –ª–µ—Ç–µ–Ω–µ</span>
                        <span class="book-author">–ô–æ—Ä–¥–∞–Ω –†–∞–¥–∏—á–∫–æ–≤</span>
                    </div>
                </a>
                <a href="./piesi/–ü—ä—Ä–≤–∏—Ç–µ - –ü–µ—Ç–∫–æ –¢–æ–¥–æ—Ä–æ–≤.pdf">
                    <div class="book" data-author="–ü–µ—Ç–∫–æ –¢–æ–¥–æ—Ä–æ–≤" data-book="–ü—ä—Ä–≤–∏—Ç–µ">
                        <span class="book-title">–ü—ä—Ä–≤–∏—Ç–µ</span>
                        <span class="book-author">–ü–µ—Ç–∫–æ –¢–æ–¥–æ—Ä–æ–≤</span>
                    </div>
                </a>
                <a href="./piesi/–°—É–º–∞—Ç–æ—Ö–∞ - –ô–æ—Ä–¥–∞–Ω –†–∞–¥–∏—á–∫–æ–≤.pdf">
                    <div class="book" data-author="–ô–æ—Ä–¥–∞–Ω –†–∞–¥–∏—á–∫–æ–≤" data-book="–°—É–º–∞—Ç–æ—Ö–∞">
                        <span class="book-title">–°—É–º–∞—Ç–æ—Ö–∞</span>
                        <span class="book-author">–ô–æ—Ä–¥–∞–Ω –†–∞–¥–∏—á–∫–æ–≤</span>
                    </div>
                </a>
                <a href="./piesi/–Ø–Ω—É–∞—Ä–∏ - –ô–æ—Ä–¥–∞–Ω –†–∞–¥–∏—á–∫–æ–≤.pdf">
                    <div class="book" data-author="–ô–æ—Ä–¥–∞–Ω –†–∞–¥–∏—á–∫–æ–≤" data-book="–Ø–Ω—É–∞—Ä–∏">
                        <span class="book-title">–Ø–Ω—É–∞—Ä–∏</span>
                        <span class="book-author">–ô–æ—Ä–¥–∞–Ω –†–∞–¥–∏—á–∫–æ–≤</span>
                    </div>
                </a>
                <a href="./piesi/–ó–º–µ–π–æ–≤–∞ —Å–≤–∞—Ç–±–∞ - –ü–µ—Ç–∫–æ –¢–æ–¥–æ—Ä–æ–≤.pdf">
                    <div class="book" data-author="–ü–µ—Ç–∫–æ –¢–æ–¥–æ—Ä–æ–≤" data-book="–ó–º–µ–π–æ–≤–∞ —Å–≤–∞—Ç–±–∞">
                        <span class="book-title">–ó–º–µ–π–æ–≤–∞ —Å–≤–∞—Ç–±–∞</span>
                        <span class="book-author">–ü–µ—Ç–∫–æ –¢–æ–¥–æ—Ä–æ–≤</span>
                    </div>
                </a>
                <a href="./piesi/–ò–≤–∞–Ω–∫—É, —É–±–∏–µ—Ü—ä—Ç –Ω–∞ –ê—Å–µ–Ω—è - –í–∞—Å–∏–ª –î—Ä—É–º–µ–≤.pdf">
                    <div class="book" data-author="–í–∞—Å–∏–ª –î—Ä—É–º–µ–≤" data-book="–ò–≤–∞–Ω–∫—É, —É–±–∏–µ—Ü—ä—Ç –Ω–∞ –ê—Å–µ–Ω—è">
                        <span class="book-title">–ò–≤–∞–Ω–∫—É, —É–±–∏–µ—Ü—ä—Ç –Ω–∞ –ê—Å–µ–Ω—è I</span>
                        <span class="book-author">–í–∞—Å–∏–ª –î—Ä—É–º–µ–≤</span>
                    </div>
                </a>
            </div>

            <button class="nav-arrow right" onclick="scrollShelf(170)">&#10095;</button>
        </div>
        <footer>
            <p>&copy; 2025 bgpiesa.com | –í—Å–∏—á–∫–∏ –ø—Ä–∞–≤–∞ –∑–∞–ø–∞–∑–µ–Ω–∏</p>
        </footer>
    </div>

    <script>
        function scrollShelf(scrollOffset) {
            const shelf = document.getElementById('bookShelf');
            shelf.scrollBy({
                left: scrollOffset,
                behavior: 'smooth'
            });
        }

        function filterBooksAuthor(authorName = null) {
            const input = document.getElementById('searchBar');
            const searchValue = (authorName || input.value).toLowerCase().trim();
            const books = document.querySelectorAll('#bookShelf .book');

            books.forEach(book => {
                const author = book.getAttribute('data-author').toLowerCase();
                if (searchValue === 'all' || searchValue === '' || author.includes(searchValue)) {
                    book.parentElement.style.display = 'inline-block';
                } else {
                    book.parentElement.style.display = 'none';
                }
        });
    
         // If author came from URL, pre-fill the input
            if (authorName) {
                input.value = authorName;
            }
        }

        function filterBooksName(bookName = null) {
            console.log("filterBooksName called");
            const input = document.getElementById('searchBar');
            const searchValue = (bookName || input.value).toLowerCase().trim();
            const books = document.querySelectorAll('#bookShelf .book');

            books.forEach(book => {
                const bookName = book.getAttribute('data-book').toLowerCase();
                if (searchValue === 'all' || searchValue === '' || bookName.includes(searchValue)) {
                    book.parentElement.style.display = 'inline-block';
                } else {
                    book.parentElement.style.display = 'none';
                }
            });
        }

           

        window.addEventListener('DOMContentLoaded', () => {
        const urlParams = new URLSearchParams(window.location.search);
        const author = urlParams.get('author');

        if (author) {
            filterBooksAuthor(author);
        }
        });

        function unifiedSearch() {
            const selectedMode = document.querySelector('input[name="searchMode"]:checked').value;
            const searchValue = document.getElementById('searchBar').value;

            if (selectedMode === 'author') {
                filterBooksAuthor(searchValue);
            } else if (selectedMode === 'book') {
                filterBooksName(searchValue);
            }
        }
    </script>
</body>
</html>
